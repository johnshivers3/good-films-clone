doctype html
html
  head
  include utils.pug
    block head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
    link(rel="stylesheet" href="/stylesheets/layout.css")
    title(class = 'title') Good Films - #{title}
  body
    nav(class = 'navbar')
      a(href='/') Good Films
      div(id='navbarText')
        div
          //- Empty menu keeps the content that follows the
          //- unordered list correctly positioned on the
          //- right side of the navbar.
        if locals.authenticated
          span(class= 'welcome') Welcome #{user.firstName}!
          form(action='/users/logout' method='post' class= 'logoutForm')
            input(type='hidden' name='_csrf' value=csrfToken)
            button(type='submit' class='logoutBtn') Logout
        else
          span
            +validationErrorSummary(errors)
            form(action='/users/login' method='post' class='loginForm')
              input(type='hidden' name='_csrf' value=csrfToken)
              +field('Email Address', 'emailAddress', emailAddress)
              +field('Password', 'password', null, 'password')
              button(type='submit' class='loginBtn') Login
            //- a(href='/users/login') Login
            a(href='/users/register') Register
    div
      h2 #{title}
      block content